<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Dashboard</title>
	<link rel="stylesheet" href="">
	<link rel="stylesheet" type="text/css" href="">
	<script src="../js/angular/angular.min.js" type="text/javascript"></script>
	<script src="../js/jquery.js"></script>
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/bootstrap.min.css">
</head>
<body>
	<nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <!-- <a class="navbar-brand" href="#">Project name</a> -->
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li><a href="#">Home</a></li>
            <li class="active"><a href="">Goal</a></li>
            <li><a href="">Loan</a></li>
          </ul>
        </div>
      </div>
    </nav>

	<div ng-app="dashboardApp" ng-controller="dashboardCtrl">
	<br>
	<br>
	<br>
	<br>
	<!-- <div>
		<h1>Your current money</h1>
		<h3 id="displayAmount"></h3>
	</div>
 -->
	<div id="accntInfo">
		<h1>Account Information</h1>
			<ul>
				<li>Account Number</li>
				<li>Account Name</li>
				<li>Balance</li>
			</ul>
	</div>

	<div id="expenses">
		<h1>Expenses</h1>
			<ul>
				<li>Merchant Name</li>
				<li>Account Number</li>
				<li>Due-date</li>
				<li>Estimated bill</li>
				<li>Bill</li>
			</ul>
	</div>
		<h1>Goal</h1>
			<ul>
				<li>Name of Goal</li>
				<li>Percent of Completion</li>
				<li>Earned Money</li>
				<li><button ng-click="add()" class="btn btn-lg">ADD TO GOAL</button></li>
			</ul>
	</div>



	<script>

		var curBalance = 0;

		var app = angular.module('dashboardApp', []);
		app.controller('dashboardCtrl', function($scope) {

			// load the values via ajax
			$scope.earned = 10000;
		    $scope.total = 15000;

		    $scope.add = function() {
		    	var value = parseInt($("#addInput").val());
		    	$scope.earned += value;
		    }



		});

		$.ajax({
			url: 'https://api.us.apiconnect.ibmcloud.com/ubpapi-dev/sb/api/RESTs/getAccount?account_no=000000013941',
			method: 'GET',
			dataType: 'json',
			headers: {
		  		'accept': 'application/json',
		    	'Content-Type': 'application/json',
		    	'x-ibm-client-secret': 'E5fE3jP2tY2vC6yU0lA0dK4yE7vL4tH3jU4gC2sF0yB2jI1uL6',
		    	'x-ibm-client-id': 'b4e5be45-2893-4766-88a2-f90454cf56e1' 
			},
			success: function(data){
				console.log(data);
				var obj = $.parseJSON(data);
				document.getElementById("displayAmount").innerHTML = data.avaiable_balance;
			},
			error: function(err){
				console.log(err);
			}
		});
	</script>

</body>
</html>