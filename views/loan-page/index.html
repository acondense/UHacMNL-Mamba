<!DOCTYPE html>
<html>
<head>
  <title>Loan</title>
  <link rel="stylesheet" type="text/css" href="style.css">
  <link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="assets/css/animate.css">
  <script type="text/javascript" href=assets/js/bootstrap.min.css></script>
</head>

<body ng-app="loanApp" ng-controller="loanCtrl">

  <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <!-- <a class="navbar-brand" href="#">Project name</a> -->
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li><a href="../index.html">Home</a></li>
            <li><a href="">Goal</a></li>
            <li class="active"><a href="">Withdraw</a></li>
          </ul>
        </div>
      </div>
    </nav>

  <div id="container">
  
    <div class="row">
      <div class="col-md-6">
      <span id="animationSandbox" style="display: block;" class="bounceInLeft animated">
    <h1>Withdraw</h1></span>
    <p>This will be deducted from your goal.</p>
	<br/>
	<br/>
		<form>
			<p> <b>Account number : &nbsp;<input type="text" name="visa-no"></b></p>
			<p> <b>Amount: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="name" name="amount"></b></p>
			<br/>
			<br/>
			<input type="button" name="btn-submit" value="Submit" ng-click="request()">
		</form>
    </div>
    <div class="col-md-6">
      <table id="puzzle" cellspacing="0" cellpadding="0" height="600px">
        <tr>
          <td id="11"></td>
          <td id="12"></td>
          <td id="13"></td>
          <td id="14"></td>
          <td id="15"></td>
          <td id="16"></td>
        </tr>
        <tr>
          <td id="21"></td>
          <td id="22"></td>
          <td id="23"></td>
          <td id="24"></td>
          <td id="25"></td>
          <td id="26"></td>
        </tr>
        <tr>
          <td id="31"></td>
          <td id="32"></td>
          <td id="33"></td>
          <td id="34"></td>
          <td id="35"></td>
          <td id="36"></td>
        </tr>
        <tr>
          <td id="41"></td>
          <td id="42"></td>
          <td id="43"></td>
          <td id="44"></td>
          <td id="45"></td>
          <td id="46"></td>
        </tr>
        <tr>
          <td id="51"></td>
          <td id="52"></td>
          <td id="53"></td>
          <td id="54"></td>
          <td id="55"></td>
          <td id="56"></td>
        </tr>
        <tr>
          <td id="61"></td>
          <td id="62"></td>
          <td id="63"></td>
          <td id="64"></td>
          <td id="65"></td>
          <td id="66"></td>
        </tr>
        <tr>
          <td id="71"></td>
          <td id="72"></td>
          <td id="73"></td>
          <td id="74"></td>
          <td id="75"></td>
          <td id="76"></td>
        </tr>
        </table>
    </div>
    </div>
	 </div>

      <script>
    // angular script to load the data
    // get the size of tree based on the completion
    
    var config = {
      apiKey: "AIzaSyDjldqZXjxfne0nXPXDNJh0nvtloz58qRc",
      authDomain: "lester-999dc.firebaseapp.com",
      databaseURL: "https://lester-999dc.firebaseio.com",
      storageBucket: "",
    };
    firebase.initializeApp(config);
    var curValue;
    var targetValue;
    
    var total = 0;
    var earned = 0;
    var app = angular.module('loanApp', []);
    app.controller('loanCtrl', function($scope) {

      // load the values via ajax
      $scope.earned = 10000;
      $scope.total = 15000;

      $scope.request = function() {
        var value = parseInt($("#addInput").val());
        $scope.earned -= value;

        // hard coded
        userID = 13123213;

        firebase.database().ref('users/' + userID + "/goal").set({
          earned: $scope.earned
        });

        // transfer money to bank
        // here
      }
    });
  </script>



</body>
</html>